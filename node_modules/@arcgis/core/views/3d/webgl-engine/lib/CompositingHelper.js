/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{C as t}from"../../../../chunks/Compositing.glsl.js";import{CompositingTechnique as s}from"../shaders/CompositingTechnique.js";import{CompositingTechniqueConfiguration as i,AlphaMode as e}from"../shaders/CompositingTechniqueConfiguration.js";import{H as r}from"../../../../chunks/HUDCompositing.glsl.js";import{HUDCompositingTechnique as o}from"../shaders/HUDCompositingTechnique.js";import{O as a}from"../../../../chunks/OITCompositing.glsl.js";import{OITCompositingTechnique as h}from"../shaders/OITCompositingTechnique.js";class n{constructor(s,e){this._rctx=s,this._techniques=e,this._configuration=new i,this._passParameters=new t,this._oitParameters=new a,this._hudParameters=new r}compositeOIT(t,s,i,e){this._oitParameters.colorTexture=s,this._oitParameters.alphaTexture=i,this._oitParameters.frontFaceTexture=e;const r=this._techniques.acquire(h);this._rctx.bindTechnique(r,t,this._oitParameters),this._rctx.screen.draw(),r.release()}compositeHUD(t,s){this._hudParameters.texture=s;const i=this._techniques.acquire(o);this._rctx.bindTechnique(i,t,this._hudParameters),this._rctx.screen.draw(),i.release()}composite(t,i,r=e.None,o=1){this._configuration.alphaMode=r,this._configuration.hasOpacityFactor=1!==o,this._passParameters.texture=i,this._passParameters.opacity=o;const a=this._techniques.acquire(s,this._configuration);this._rctx.bindTechnique(a,t,this._passParameters),this._rctx.screen.draw(),a.release()}blitDepthToLinearDepth(t,s){this._configuration.isDepthBlit=!0,this.composite(t,s),this._configuration.isDepthBlit=!1}}export{n as default};
