/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import e from"../../core/Error.js";import{PixelType as t,TextureSamplingMode as r,PixelFormat as o,SizedPixelFormat as a}from"./enums.js";class l{constructor(e,t,r,o){this.dataType=e,this.samplingMode=t,this.pixelFormat=r,this.internalFormat=o}}function n(n,i){const{textureFloatLinear:f,colorBufferFloat:s}=n.capabilities,u=s?.textureFloat,_=s?.textureHalfFloat,m=s?.floatBlend,p=n.driverTest.floatBufferBlend.result;if(!u&&!_)throw new e("heatmap:missing-color-buffer-float","HeatmapRenderer requires the WebGL extension EXT_color_buffer_float or EXT_color_buffer_half_float or WEBGL_color_buffer_float.");if(!(m&&p||_))throw new e("heatmap:missing-float-blend","HeatmapRenderer requires the WebGL extension EXT_float_blend or EXT_color_buffer_half_float."+(p?"":" This device claims support for EXT_float_blend, but does not actually support it."));const c=u&&m&&p,d=_,h=f,b=!!s?.R32F,R=!!s?.R16F;if(c&&h)return h||i.warnOnce("Missing WebGL extension OES_texture_float_linear. Heatmap quality may be reduced."),new l(t.FLOAT,h?r.LINEAR:r.NEAREST,b?o.RED:o.RGBA,b?a.R32F:o.RGBA);if(d)return new l(t.HALF_FLOAT,r.LINEAR,R?o.RED:o.RGBA,R?a.R16F:o.RGBA);throw new e("heatmap:missing-hardware-support","HeatmapRenderer requires WebGL extensions that allow it to render and blend to float or half float textures.")}export{l as HeatmapTextureConfiguration,n as loadHeatmapTextureConfiguration};
