/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
import{zeroDegrees as t,createAngle as e,toUnit as a,zeroMeters as r,createLength as n,createScalar as i,zeroSquareMeters as o,createArea as s}from"../../../../core/quantityUtils.js";import{makeQuantityParser as u,parseLongitude as l,formatLongitudeDecimalDegreesForInputMode as f,parseLatitude as c,formatLatitudeDecimalDegreesForInputMode as m}from"./parsingAndFormattingUtils.js";import{TooltipField as p}from"./TooltipField.js";import{TooltipFieldElevation as d}from"./TooltipFieldElevation.js";import{TooltipFieldOrientation as g}from"./TooltipFieldOrientation.js";import{getNormalizedDirection as h,DirectionMode as v}from"../../../support/angularMeasurementUtils.js";function b(r){const n=t=>t.inputUnitInfos.direction.unit,i=t=>t.sketchOptions.values.effectiveDirectionMode;return new p({name:"direction",actual:t,parse:u(((t,a)=>e(t,n(a),"geographic"))),format:(t,e)=>{const a=i(e),r=h(t,a);switch(a){case v.Absolute:return e.formatters.direction(r);case v.Relative:return e.formatters.directionRelative(r);case v.RelativeBilateral:return e.formatters.directionRelativeBilateral(r)}},formatForInputMode:(t,e)=>{const r=h(t,i(e));return e.formatters.scalar(a(r,n(e)))},suffix:t=>t.inputUnitInfos.direction.abbreviation,title:t=>{const e=i(t),{absolute:a,relative:r}=t.messages.sketch.direction;switch(e){case v.Absolute:return a;case v.Relative:case v.RelativeBilateral:return r}},...r})}function I(t){const e=t=>t.inputUnitInfos.length.unit;return new p({name:"distance",actual:r,parse:u(((t,a)=>n(Math.max(t,0),e(a)))),format:(t,e)=>e.formatters.length(t),formatForInputMode:(t,r)=>r.formatters.scalar(a(t,e(r))),suffix:t=>t.inputUnitInfos.length.abbreviation,title:t=>t.messages.sketch.distance,...t})}function U(){return I({format:(t,e)=>e.formatters.totalLength(t),title:t=>t.messages.sketch.totalLength,readOnly:!0})}function w(t){return new d(t)}function x(t){return new g(t)}function F(t){return D("scale",{name:"scale",actual:null,parse:u((t=>i(Math.abs(t)))),...t})}function M(t){const e=t=>t.inputUnitInfos.area.unit;return new p({name:"area",actual:o,parse:u(((t,a)=>s(t,e(a)))),format:(t,e)=>e.formatters.area(t),formatForInputMode:(t,r)=>r.formatters.scalar(a(t,e(r))),suffix:t=>t.inputUnitInfos.area.abbreviation,title:t=>t.messages.sketch.area,readOnly:!0,...t})}function k(e){return new p({name:"x",actual:t,parse:l,format:(t,e)=>e.formatters.longitudeDecimalDegrees(t),formatForInputMode:t=>f(t),suffix:t=>t.inputUnitInfos.longitudeLatitude.abbreviation,title:t=>t.messages.sketch.longitude,...e})}function j(e){return new p({name:"y",actual:t,parse:c,format:(t,e)=>e.formatters.latitudeDecimalDegrees(t),formatForInputMode:t=>m(t),suffix:t=>t.inputUnitInfos.longitudeLatitude.abbreviation,title:t=>t.messages.sketch.latitude,...e})}function y(t){return D("x",{name:"x",...t})}function R(t){return D("y",{name:"y",...t})}function D(t,e){return new p({actual:i(0),parse:u((t=>i(t))),format:(t,e)=>e.formatters.scalar(t),formatForInputMode:(t,e)=>e.formatters.scalar(t),title:e=>e.messages.sketch[t],...e})}export{M as makeAreaField,b as makeDirectionField,w as makeElevationField,j as makeLatitudeField,I as makeLengthField,k as makeLongitudeField,x as makeOrientationField,F as makeScaleField,U as makeTotalLengthField,y as makeXField,R as makeYField};
