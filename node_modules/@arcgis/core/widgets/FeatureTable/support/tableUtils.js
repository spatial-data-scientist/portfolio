/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.30/esri/copyright.txt for details.
*/
const e={action:"EsriFeatureTableActionColumn",attachments:"EsriFeatureTableAttachmentsColumn",relationship:"EsriFeatureTableRelationshipColumn"};function n(e){return e&&"selection"===e.type}function t(e){return null!=e&&"object"==typeof e&&"createQuery"in e&&"getField"in e&&"queryFeatureCount"in e&&"queryFeatures"in e&&"queryObjectIds"in e&&"capabilities"in e&&"fields"in e&&"fieldsIndex"in e&&"id"in e&&"load"in e&&"objectIdField"in e&&"type"in e&&"when"in e}function i(e){return t(e)&&"queryAttachments"in e}function r(e){return t(e)&&"editingEnabled"in e&&"applyEdits"in e}function a(e){return t(e)&&"relationships"in e&&"queryRelatedFeatures"in e&&"queryRelatedFeaturesCount"in e}function u(e){return null!=e&&"object"==typeof e&&"type"in e&&null!==e.type&&("column"===e.type||"field"===e.type||"group"===e.type)}function l(e){return null!=e&&"object"==typeof e&&"type"in e&&"map-image"===e.type}function s(e,n,{relatedTableId:t}){if(!n?.map)return;const i="scene"===e.type&&e.associatedLayer?e.associatedLayer.url:e.url,r=n=>!(!a(n)||n===e)&&("sublayer"===n.type&&n.layer?.url===e.url?n.id===t:i===n.url&&n.layerId===t);if("sublayer"===e.type&&l(e.parent)){const n=n=>a(n)&&n!==e&&n.id===t,i=e.parent,r=i.sublayers?.find(n)||i.subtables?.find(n);if(a(r))return r}const u=[...n.map.allLayers,...n.map.allTables];let s=null;for(const a of u)if(l(a)){const e=a.sublayers?.find(r)||a.subtables?.find(r);if(e){s=e;break}}else if(r(a)){s=a;break}return a(s)?s:void 0}export{s as findRelatedLayer,t as isIFeatureTableSupportedLayer,i as isIFeatureTableSupportedLayerWithAttachments,r as isIFeatureTableSupportedLayerWithEditing,a as isIFeatureTableSupportedLayerWithRelationships,l as isMapImageLayer,n as isSelectionFilter,u as isTemplateObjectWithType,e as uniqueColumnNames};
